{"id":"5wlh","dependencies":[{"name":"/home/john/workspace/Valory2/tsconfig.json","includedInParent":true,"mtime":1531152310742},{"name":"/home/john/workspace/Valory2/package.json","includedInParent":true,"mtime":1533664046105},{"name":"/home/john/workspace/Valory2/.babelrc","includedInParent":true,"mtime":1533664058125},{"name":"./controllerGenerator","loc":{"line":12,"column":38},"parent":"/home/john/workspace/Valory2/src/tsoa/metadataGeneration/metadataGenerator.ts","resolved":"/home/john/workspace/Valory2/src/tsoa/metadataGeneration/controllerGenerator.ts"}],"generated":{"js":"var $wlh$exports={},$wlh$var$__importStar=$wlh$exports&&$wlh$exports.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r};Object.defineProperty($wlh$exports,\"__esModule\",{value:!0});const $wlh$var$mm=$wlh$var$__importStar(require(\"minimatch\")),$wlh$var$ts=$wlh$var$__importStar(require(\"typescript\")),$wlh$var$controllerGenerator_1=$parcel$require(\"5wlh\",\"./controllerGenerator\");class $wlh$var$MetadataGenerator{constructor(e,r,t){this.ignorePaths=t,this.nodes=new Array,this.referenceTypeMap={},this.circularDependencyResolvers=new Array,this.program=$wlh$var$ts.createProgram([e],r||{}),this.typeChecker=this.program.getTypeChecker(),MetadataGenerator.current=this}IsExportedNode(e){return!0}Generate(){for(var e=this.program.getSourceFiles(),r=e=>{if(this.ignorePaths&&this.ignorePaths.length)for(const r of this.ignorePaths)if($wlh$var$mm(e.fileName,r))return;$wlh$var$ts.forEachChild(e,e=>{this.nodes.push(e)})},t=0;t<e.length;t++)r(e[t]);const a=this.buildControllers();for(var n=this.circularDependencyResolvers,o=e=>e(this.referenceTypeMap),s=0;s<n.length;s++)o(n[s]);return{controllers:a,referenceTypeMap:this.referenceTypeMap}}TypeChecker(){return this.typeChecker}AddReferenceType(e){e.refName&&(this.referenceTypeMap[e.refName]=e)}GetReferenceType(e){return this.referenceTypeMap[e]}OnFinish(e){this.circularDependencyResolvers.push(e)}buildControllers(){for(var e=this.nodes.filter(e=>e.kind===$wlh$var$ts.SyntaxKind.ClassDeclaration&&this.IsExportedNode(e)),r=e=>new $wlh$var$controllerGenerator_1.ControllerGenerator(e),t=[],a=0;a<e.length;a++)t.push(r(e[a]));for(var n=t.filter(e=>e.IsValid()),o=e=>e.Generate(),s=[],h=0;h<n.length;h++)s.push(o(n[h]));return s}}var $wlh$export$MetadataGenerator=$wlh$var$MetadataGenerator;$wlh$exports.MetadataGenerator=$wlh$export$MetadataGenerator;"},"hash":"7fd33818f50130799889bb2197fa815b","cacheData":{"env":{},"imports":{},"exports":{"MetadataGenerator":"$wlh$export$MetadataGenerator"},"wildcards":[],"isCommonJS":true}}