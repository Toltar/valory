{"id":"8v88","dependencies":[{"name":"/home/john/workspace/Valory2/tsconfig.json","includedInParent":true,"mtime":1533665526367},{"name":"/home/john/workspace/Valory2/package.json","includedInParent":true,"mtime":1533666443092},{"name":"/home/john/workspace/Valory2/.babelrc","includedInParent":true,"mtime":1533664058125}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});const t=require(\"hyperid\")();class e{constructor(t){this.attachments={},this.headers=t.headers,this.body=t.body,this.rawBody=t.rawBody,this.formData=t.formData,this.query=t.query,this.route=t.route,this.path=t.path}static createKey(){return{id:t(),marker:0}}putAttachment(t,e){if(null!=this.attachments[t.id])throw Error(\"Refusing to clobber existing attachment\");this.attachments[t.id]=e}getAttachment(t){return this.attachments[t.id]}}exports.ApiRequest=e;","map":{"mappings":[{"source":"server/request.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":0}},{"source":"server/request.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":13}},{"source":"server/request.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":20}},{"source":"server/request.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":35}},{"source":"server/request.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":43}},{"source":"server/request.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":56}},{"source":"server/request.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":57}},{"source":"server/request.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":64}},{"source":"server/request.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":68}},{"source":"server/request.ts","name":null,"original":{"line":2,"column":6},"generated":{"line":1,"column":74}},{"source":"server/request.ts","name":null,"original":{"line":2,"column":13},"generated":{"line":1,"column":76}},{"source":"server/request.ts","name":null,"original":{"line":2,"column":21},"generated":{"line":1,"column":84}},{"source":"server/request.ts","name":null,"original":{"line":2,"column":13},"generated":{"line":1,"column":94}},{"source":"server/request.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":97}},{"source":"server/request.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":103}},{"source":"server/request.ts","name":null,"original":{"line":36,"column":16},"generated":{"line":1,"column":105}},{"source":"server/request.ts","name":null,"original":{"line":36,"column":16},"generated":{"line":1,"column":117}},{"source":"server/request.ts","name":null,"original":{"line":33,"column":9},"generated":{"line":1,"column":120}},{"source":"server/request.ts","name":null,"original":{"line":33,"column":9},"generated":{"line":1,"column":125}},{"source":"server/request.ts","name":null,"original":{"line":33,"column":45},"generated":{"line":1,"column":137}},{"source":"server/request.ts","name":null,"original":{"line":37,"column":13},"generated":{"line":1,"column":140}},{"source":"server/request.ts","name":null,"original":{"line":37,"column":13},"generated":{"line":1,"column":145}},{"source":"server/request.ts","name":null,"original":{"line":37,"column":23},"generated":{"line":1,"column":153}},{"source":"server/request.ts","name":null,"original":{"line":37,"column":31},"generated":{"line":1,"column":155}},{"source":"server/request.ts","name":null,"original":{"line":38,"column":13},"generated":{"line":1,"column":163}},{"source":"server/request.ts","name":null,"original":{"line":38,"column":13},"generated":{"line":1,"column":168}},{"source":"server/request.ts","name":null,"original":{"line":38,"column":20},"generated":{"line":1,"column":173}},{"source":"server/request.ts","name":null,"original":{"line":38,"column":28},"generated":{"line":1,"column":175}},{"source":"server/request.ts","name":null,"original":{"line":39,"column":13},"generated":{"line":1,"column":180}},{"source":"server/request.ts","name":null,"original":{"line":39,"column":13},"generated":{"line":1,"column":185}},{"source":"server/request.ts","name":null,"original":{"line":39,"column":23},"generated":{"line":1,"column":193}},{"source":"server/request.ts","name":null,"original":{"line":39,"column":31},"generated":{"line":1,"column":195}},{"source":"server/request.ts","name":null,"original":{"line":40,"column":13},"generated":{"line":1,"column":203}},{"source":"server/request.ts","name":null,"original":{"line":40,"column":13},"generated":{"line":1,"column":208}},{"source":"server/request.ts","name":null,"original":{"line":40,"column":24},"generated":{"line":1,"column":217}},{"source":"server/request.ts","name":null,"original":{"line":40,"column":32},"generated":{"line":1,"column":219}},{"source":"server/request.ts","name":null,"original":{"line":41,"column":13},"generated":{"line":1,"column":228}},{"source":"server/request.ts","name":null,"original":{"line":41,"column":13},"generated":{"line":1,"column":233}},{"source":"server/request.ts","name":null,"original":{"line":41,"column":21},"generated":{"line":1,"column":239}},{"source":"server/request.ts","name":null,"original":{"line":41,"column":29},"generated":{"line":1,"column":241}},{"source":"server/request.ts","name":null,"original":{"line":42,"column":13},"generated":{"line":1,"column":247}},{"source":"server/request.ts","name":null,"original":{"line":42,"column":13},"generated":{"line":1,"column":252}},{"source":"server/request.ts","name":null,"original":{"line":42,"column":21},"generated":{"line":1,"column":258}},{"source":"server/request.ts","name":null,"original":{"line":42,"column":29},"generated":{"line":1,"column":260}},{"source":"server/request.ts","name":null,"original":{"line":43,"column":13},"generated":{"line":1,"column":266}},{"source":"server/request.ts","name":null,"original":{"line":43,"column":13},"generated":{"line":1,"column":271}},{"source":"server/request.ts","name":null,"original":{"line":43,"column":20},"generated":{"line":1,"column":276}},{"source":"server/request.ts","name":null,"original":{"line":43,"column":28},"generated":{"line":1,"column":278}},{"source":"server/request.ts","name":null,"original":{"line":20,"column":15},"generated":{"line":1,"column":283}},{"source":"server/request.ts","name":null,"original":{"line":21,"column":9},"generated":{"line":1,"column":302}},{"source":"server/request.ts","name":null,"original":{"line":21,"column":9},"generated":{"line":1,"column":308}},{"source":"server/request.ts","name":null,"original":{"line":22,"column":7},"generated":{"line":1,"column":309}},{"source":"server/request.ts","name":null,"original":{"line":22,"column":7},"generated":{"line":1,"column":312}},{"source":"server/request.ts","name":null,"original":{"line":23,"column":11},"generated":{"line":1,"column":316}},{"source":"server/request.ts","name":null,"original":{"line":23,"column":11},"generated":{"line":1,"column":323}},{"source":"server/request.ts","name":null,"original":{"line":46,"column":25},"generated":{"line":1,"column":326}},{"source":"server/request.ts","name":null,"original":{"line":46,"column":25},"generated":{"line":1,"column":340}},{"source":"server/request.ts","name":null,"original":{"line":46,"column":48},"generated":{"line":1,"column":342}},{"source":"server/request.ts","name":null,"original":{"line":47,"column":6},"generated":{"line":1,"column":345}},{"source":"server/request.ts","name":null,"original":{"line":47,"column":34},"generated":{"line":1,"column":348}},{"source":"server/request.ts","name":null,"original":{"line":47,"column":6},"generated":{"line":1,"column":354}},{"source":"server/request.ts","name":null,"original":{"line":47,"column":11},"generated":{"line":1,"column":359}},{"source":"server/request.ts","name":null,"original":{"line":47,"column":23},"generated":{"line":1,"column":371}},{"source":"server/request.ts","name":null,"original":{"line":47,"column":27},"generated":{"line":1,"column":373}},{"source":"server/request.ts","name":null,"original":{"line":48,"column":9},"generated":{"line":1,"column":377}},{"source":"server/request.ts","name":null,"original":{"line":48,"column":9},"generated":{"line":1,"column":383}},{"source":"server/request.ts","name":null,"original":{"line":48,"column":15},"generated":{"line":1,"column":389}},{"source":"server/request.ts","name":null,"original":{"line":50,"column":7},"generated":{"line":1,"column":432}},{"source":"server/request.ts","name":null,"original":{"line":50,"column":7},"generated":{"line":1,"column":437}},{"source":"server/request.ts","name":null,"original":{"line":50,"column":19},"generated":{"line":1,"column":449}},{"source":"server/request.ts","name":null,"original":{"line":50,"column":23},"generated":{"line":1,"column":451}},{"source":"server/request.ts","name":null,"original":{"line":50,"column":29},"generated":{"line":1,"column":455}},{"source":"server/request.ts","name":null,"original":{"line":53,"column":25},"generated":{"line":1,"column":457}},{"source":"server/request.ts","name":null,"original":{"line":53,"column":25},"generated":{"line":1,"column":471}},{"source":"server/request.ts","name":null,"original":{"line":54,"column":9},"generated":{"line":1,"column":474}},{"source":"server/request.ts","name":null,"original":{"line":54,"column":9},"generated":{"line":1,"column":481}},{"source":"server/request.ts","name":null,"original":{"line":54,"column":14},"generated":{"line":1,"column":486}},{"source":"server/request.ts","name":null,"original":{"line":54,"column":26},"generated":{"line":1,"column":498}},{"source":"server/request.ts","name":null,"original":{"line":54,"column":30},"generated":{"line":1,"column":500}},{"source":"server/request.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":505}},{"source":"server/request.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":513}},{"source":"server/request.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":524}}],"sources":{"server/request.ts":"import {ApiExchange} from \"./valoryheaders\";\nconst uuid = require(\"hyperid\")();\n\nexport interface AttachmentKey<T> {\n\treadonly id: string;\n\t/** @hidden */ readonly marker: T;\n}\n\nexport interface ApiRequestOptions {\n    headers: { [key: string]: any; };\n    body: any;\n    rawBody: any;\n    formData: { [key: string]: any; };\n    query: { [key: string]: any; };\n    path: { [key: string]: any; };\n    route: string;\n}\n\nexport class ApiRequest implements ApiExchange {\n\tpublic static createKey<T>(): AttachmentKey<T> {\n\t\treturn {\n\t\t\tid: uuid(),\n\t\t\tmarker: 0 as any,\n\t\t};\n\t}\n    public headers: { [key: string]: any; };\n    public body: any;\n    public rawBody: any;\n    public formData: { [key: string]: any; };\n    public query: { [key: string]: any; };\n    public path: { [key: string]: any; };\n    public route: string;\n\tprivate attachments: {[key: string]: any} = {};\n    // public attachments: AttachmentDict;\n\n    constructor(options: ApiRequestOptions) {\n        this.headers = options.headers;\n        this.body = options.body;\n        this.rawBody = options.rawBody;\n        this.formData = options.formData;\n        this.query = options.query;\n        this.route = options.route;\n        this.path = options.path;\n    }\n\n\tpublic putAttachment<T>(key: AttachmentKey<T>, value: T): void {\n\t\tif (this.attachments[key.id] != null) {\n\t\t\tthrow Error(\"Refusing to clobber existing attachment\");\n\t\t}\n\t\tthis.attachments[key.id] = value;\n\t}\n\n\tpublic getAttachment<T>(key: AttachmentKey<T>): T | null {\n\t\treturn this.attachments[key.id] as (T | null);\n\t}\n}\n"},"lineCount":null}},"hash":"b195cdf3ac51bbe4f74d0dfadae2dc07","cacheData":{"env":{}}}